{"version":3,"sources":["../../src/export/index.ts"],"names":["bold","yellow","findUp","existsSync","promises","fs","Worker","dirname","join","resolve","sep","formatAmpMessages","Log","createSpinner","RSC_SUFFIX","SSG_FALLBACK_EXPORT_ERROR","recursiveCopy","BUILD_ID_FILE","CLIENT_PUBLIC_FILES_PATH","CLIENT_STATIC_FILES_PATH","EXPORT_DETAIL","EXPORT_MARKER","NEXT_FONT_MANIFEST","MIDDLEWARE_MANIFEST","PAGES_MANIFEST","PHASE_EXPORT","PRERENDER_MANIFEST","SERVER_DIRECTORY","SERVER_REFERENCE_MANIFEST","APP_PATH_ROUTES_MANIFEST","loadConfig","eventCliSession","hasNextSupport","Telemetry","normalizePagePath","denormalizePagePath","loadEnvConfig","isAPIRoute","getPagePath","isAppRouteRoute","isAppPageRoute","isError","needsExperimentalReact","formatManifest","validateRevalidate","isDefaultRoute","divideSegments","number","segments","result","dividedNumber","Math","floor","push","createProgress","total","label","Error","currentSegmentTotal","shift","currentSegmentCount","lastProgressOutput","Date","now","curProgress","progressSpinner","spinner","frames","interval","isFinished","newText","prefixes","event","info","process","stdout","isTTY","text","console","log","stop","ExportError","code","setupWorkers","options","nextConfig","exportPageWorker","pages","app","exportAppPageWorker","end","endWorker","Promise","threads","experimental","cpus","silent","buildExport","timeout","staticPageGenerationTimeout","infoPrinted","worker","require","onRestart","_method","path","attempts","warn","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","exportAppImpl","dir","span","traceChild","traceFn","enabledDirectories","traceAsyncFn","distDir","telemetry","record","webpackVersion","cliCommand","isSrcDir","hasNowJson","cwd","isCustomServer","turboFlag","pagesDir","appDir","subFolders","trailingSlash","buildIdFile","customRoutes","filter","config","length","buildId","readFile","pagesManifest","prerenderManifest","appRoutePathManifest","err","undefined","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","dynamicRoutes","add","mapAppRouteToPage","Map","pageName","routePath","entries","set","routes","_isAppDir","outDir","outdir","rm","recursive","force","mkdir","writeFile","version","outDirectory","success","exportPathMap","defaultMap","i18n","images","loader","unoptimized","isNextImageImported","then","JSON","parse","catch","serverActionsManifest","output","node","edge","renderOpts","previewProps","preview","nextExport","assetPrefix","replace","dev","basePath","canonicalBase","amp","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","crossOrigin","optimizeCss","nextConfigOutput","nextScriptWorkers","optimizeFonts","largePageDataBytes","serverActions","serverComponents","nextFontManifest","strictNextHead","deploymentId","ppr","missingSuspenseWithCSRBailout","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","globalThis","__NEXT_DATA__","exportMap","exportPaths","map","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","hasMiddleware","middlewareManifest","middleware","progress","statusMessage","pagesDataDir","ampValidations","publicDir","workers","results","all","pathMap","exportPage","pageExportSpan","setAttribute","ampValidatorPath","validator","parentSpanId","getId","httpAgentOptions","debugOutput","cacheMaxMemorySize","fetchCache","fetchCacheKeyPrefix","cacheHandler","enableExperimentalReact","errorPaths","renderError","hadValidationError","collector","byPath","byPage","ssgNotFoundPaths","validation","errors","get","revalidate","metadata","hasEmptyPrelude","hasPostponed","ssgNotFound","durations","durationsByPath","duration","endWorkerPromise","srcRoute","appPageName","isAppPath","Boolean","isAppRouteHandler","notFoundRoutes","includes","pagePath","distPagesDir","slice","split","orig","handlerSrc","handlerDest","copyFile","htmlDest","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","sort","flush","exportApp","nextExportSpan"],"mappings":"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"}