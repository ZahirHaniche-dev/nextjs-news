{"version":3,"sources":["../../../../src/build/webpack/loaders/next-metadata-image-loader.ts"],"names":["existsSync","promises","fs","path","loaderUtils","getImageSize","imageExtMimeTypeMap","WEBPACK_RESOURCE_QUERIES","normalizePathSep","getNamedExports","resourcePath","context","mod","Promise","res","rej","loadModule","err","_source","_sourceMap","module","exportNames","dependencies","filter","dep","includes","constructor","name","map","nextMetadataImageLoader","content","options","getOptions","type","segment","pageExtensions","basePath","rootContext","fileNameBase","ext","parse","useNumericSizes","extension","slice","opts","contentHash","interpolateName","interpolatedName","isDynamicResource","pageSegment","hashQuery","pathnamePrefix","join","exportedFieldsExcludingDefault","field","JSON","stringify","metadataImageMeta","imageSize","catch","Error","imageData","width","height","sizes","altPath","dirname","alt","readFile","raw"],"mappings":"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"}