{"version":3,"sources":["../../../../src/build/webpack/plugins/profiling-plugin.ts"],"names":["NormalModule","path","pluginName","spans","WeakMap","moduleSpansByCompilation","makeSpanByCompilation","sealSpanByCompilation","webpackInvalidSpans","TRACE_LABELS_SEAL","inTraceLabelsSeal","label","some","l","startsWith","ProfilingPlugin","constructor","runWebpackSpan","rootDir","apply","compiler","traceTopLevelHooks","traceCompilationHooks","traceHookPair","spanName","startHook","stopHook","parentSpan","attrs","onStart","onStop","span","tap","name","stage","Infinity","params","attributes","traceChild","stop","hooks","compilation","afterCompile","get","set","options","mode","invalid","done","delete","fileName","trigger","relative","replaceAll","sep","emit","afterEmit","make","finishMake","compilationSpan","_span","buildModule","module","moduleType","userRequest","split","pop","issuerModule","moduleGraph","getIssuer","moduleSpans","issuerSpan","incomingConnection","getIncomingConnections","entrySpan","dependency","setAttribute","layer","moduleHooks","getCompilationHooks","readResource","for","undefined","intercept","register","tapInfo","fn","loaderContext","callback","moduleSpan","currentTraceSpan","err","result","loader","succeedModule","failedModule","seal","afterSeal","addEntry","entry","addEntrySpan","request","succeedEntry","failedEntry","beforeChunks","afterChunks","optimize","reviveModules","optimizeModules","afterOptimizeModules","optimizeChunks","afterOptimizeChunks","optimizeTree","afterOptimizeTree","optimizeChunkModules","afterOptimizeChunkModules","beforeModuleHash","afterModuleHash","beforeCodeGeneration","afterCodeGeneration","beforeHash","afterHash","beforeModuleAssets","logs","Map","originalTime","logger","time","originalTimeEnd","timeEnd","call","replace"],"mappings":"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"}