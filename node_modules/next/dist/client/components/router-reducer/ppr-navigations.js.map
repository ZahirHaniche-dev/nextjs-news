{"version":3,"sources":["../../../../src/client/components/router-reducer/ppr-navigations.ts"],"names":["updateCacheNodeOnNavigation","listenForDynamicRequest","abortTask","updateCacheNodeOnPopstateRestoration","oldCacheNode","oldRouterState","newRouterState","prefetchData","prefetchHead","isPrefetchStale","oldRouterStateChildren","newRouterStateChildren","prefetchDataChildren","oldParallelRoutes","parallelRoutes","prefetchParallelRoutes","Map","patchedRouterStateChildren","taskChildren","parallelRouteKey","newRouterStateChild","oldRouterStateChild","oldSegmentMapChild","get","prefetchDataChild","newSegmentChild","newSegmentKeyChild","createRouterCacheKey","oldSegmentChild","undefined","oldCacheNodeChild","taskChild","PAGE_SEGMENT_KEY","spawnPendingTask","DEFAULT_SEGMENT_KEY","spawnReusedTask","matchSegment","spawnTaskForMissingData","set","newCacheNodeChild","node","newSegmentMapChild","route","newCacheNode","lazyData","rsc","prefetchRsc","head","patchRouterStateWithNewChildren","children","baseRouterState","newChildren","clone","routerState","pendingCacheNode","createPendingCacheNode","reusedRouterState","task","responsePromise","then","response","flightData","flightDataPath","segmentPath","slice","serverRouterState","length","dynamicData","dynamicHead","writeDynamicDataIntoPendingTask","error","rootTask","i","segment","taskSegment","finishTaskUsingDynamicDataPayload","taskNode","finishPendingCacheNode","serverChildren","dynamicDataChildren","serverRouterStateChild","dynamicDataChild","routerStateChildren","routerStateChild","segmentChild","segmentKeyChild","isLeafSegment","size","maybePrefetchRsc","createDeferredRsc","cacheNode","taskState","serverState","taskStateChildren","serverStateChildren","dataChildren","taskStateChild","serverStateChild","dataChild","segmentMapChild","taskSegmentChild","taskSegmentKeyChild","cacheNodeChild","abortPendingCacheNode","dynamicSegmentData","isDeferredRsc","resolve","values","reject","newParallelRoutes","shouldUsePrefetch","status","DEFERRED","Symbol","value","tag","pendingRsc","Promise","res","rej","fulfilledRsc","rejectedRsc","reason"],"mappings":"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"}