{"version":3,"sources":["../../../../../src/client/components/router-reducer/reducers/refresh-reducer.ts"],"names":["refreshReducer","state","action","origin","mutable","href","canonicalUrl","currentTree","tree","preserveCustomHistoryState","cache","createEmptyCacheNode","lazyData","fetchServerResponse","URL","nextUrl","buildId","then","flightData","canonicalUrlOverride","handleExternalUrl","pushRef","pendingPush","flightDataPath","length","console","log","treePatch","newTree","applyRouterStatePatchToFullTree","handleSegmentMismatch","isNavigatingToNewRootLayout","canonicalUrlOverrideHref","createHrefFromUrl","undefined","cacheNodeSeedData","head","slice","rsc","prefetchRsc","fillLazyItemsTillLeafWithHead","prefetchCache","Map","patchedTree","handleMutable"],"mappings":";;;;+BAiBgBA;;;eAAAA;;;qCAjBoB;mCACF;6CACc;6CACJ;iCAOV;+BACJ;+CAEgB;2BACT;uCACC;AAE/B,SAASA,eACdC,KAA2B,EAC3BC,MAAqB;IAErB,MAAM,EAAEC,MAAM,EAAE,GAAGD;IACnB,MAAME,UAAmB,CAAC;IAC1B,MAAMC,OAAOJ,MAAMK,YAAY;IAE/B,IAAIC,cAAcN,MAAMO,IAAI;IAE5BJ,QAAQK,0BAA0B,GAAG;IAErC,MAAMC,QAAmBC,IAAAA,+BAAoB;IAC7C,uDAAuD;IACvD,wCAAwC;IACxCD,MAAME,QAAQ,GAAGC,IAAAA,wCAAmB,EAClC,IAAIC,IAAIT,MAAMF,SACd;QAACI,WAAW,CAAC,EAAE;QAAEA,WAAW,CAAC,EAAE;QAAEA,WAAW,CAAC,EAAE;QAAE;KAAU,EAC3DN,MAAMc,OAAO,EACbd,MAAMe,OAAO;IAGf,OAAON,MAAME,QAAQ,CAACK,IAAI,CACxB;YAAC,CAACC,YAAYC,qBAAqB;QACjC,4DAA4D;QAC5D,IAAI,OAAOD,eAAe,UAAU;YAClC,OAAOE,IAAAA,kCAAiB,EACtBnB,OACAG,SACAc,YACAjB,MAAMoB,OAAO,CAACC,WAAW;QAE7B;QAEA,+DAA+D;QAC/DZ,MAAME,QAAQ,GAAG;QAEjB,KAAK,MAAMW,kBAAkBL,WAAY;YACvC,oFAAoF;YACpF,IAAIK,eAAeC,MAAM,KAAK,GAAG;gBAC/B,oCAAoC;gBACpCC,QAAQC,GAAG,CAAC;gBACZ,OAAOzB;YACT;YAEA,mGAAmG;YACnG,MAAM,CAAC0B,UAAU,GAAGJ;YACpB,MAAMK,UAAUC,IAAAA,4DAA+B,EAC7C,sBAAsB;YACtB;gBAAC;aAAG,EACJtB,aACAoB;YAGF,IAAIC,YAAY,MAAM;gBACpB,OAAOE,IAAAA,4CAAqB,EAAC7B,OAAOC,QAAQyB;YAC9C;YAEA,IAAII,IAAAA,wDAA2B,EAACxB,aAAaqB,UAAU;gBACrD,OAAOR,IAAAA,kCAAiB,EACtBnB,OACAG,SACAC,MACAJ,MAAMoB,OAAO,CAACC,WAAW;YAE7B;YAEA,MAAMU,2BAA2Bb,uBAC7Bc,IAAAA,oCAAiB,EAACd,wBAClBe;YAEJ,IAAIf,sBAAsB;gBACxBf,QAAQE,YAAY,GAAG0B;YACzB;YAEA,0DAA0D;YAC1D,MAAM,CAACG,mBAAmBC,KAAK,GAAGb,eAAec,KAAK,CAAC,CAAC;YAExD,8FAA8F;YAC9F,IAAIF,sBAAsB,MAAM;gBAC9B,MAAMG,MAAMH,iBAAiB,CAAC,EAAE;gBAChCzB,MAAM4B,GAAG,GAAGA;gBACZ5B,MAAM6B,WAAW,GAAG;gBACpBC,IAAAA,4DAA6B,EAC3B9B,OACA,4FAA4F;gBAC5FwB,WACAP,WACAQ,mBACAC;gBAEFhC,QAAQM,KAAK,GAAGA;gBAChBN,QAAQqC,aAAa,GAAG,IAAIC;YAC9B;YAEAtC,QAAQuC,WAAW,GAAGf;YACtBxB,QAAQE,YAAY,GAAGD;YAEvBE,cAAcqB;QAChB;QAEA,OAAOgB,IAAAA,4BAAa,EAAC3C,OAAOG;IAC9B,GACA,IAAMH;AAEV"}